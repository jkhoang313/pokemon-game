<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Trainer</title>
  </head>
  <body>
    <h1>Trainer <%= @trainer.name %></h1>
    <p>Gender: <%= @trainer.gender %></p>
    <p>Age: <%= @trainer.age %></p>

    <%= link_to "Pokemon:", pokemons_path(@trainer) %>
    <ul>
      <% @trainer.pokemons.each.with_index(1) do |pokemon, index| %>
        <li><%= link_to pokemon.name.capitalize, pokemon_path(@trainer, index)%></li>
      <% end %>
    </ul>

    <p>Current Poke-tokens: <%= @trainer.poke_tokens %></p>
    <p> Next Poke-Token: <%= @trainer.token_status %> </p>

    <% if session[:trainer_id] == @trainer.id %>
      <%= button_to "Claim Poke-Token", reset_token_path(@trainer) if @trainer.token_time_passed? %>
      <%= button_to "Edit Trainer", edit_trainer_path, method: :get %>
      <%= button_to "Delete Trainer", @trainer, method: :delete %>
    <% end %>

    <%= button_to "Back to All Trainers", trainers_path, method: :get %>
  </body>
</html>
